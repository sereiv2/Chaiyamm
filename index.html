<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XAUUSD Lot Size Calculator</title>
    <link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">
    <style>
        body {
            font-family: 'SF Pro Display', sans-serif;
            background-color: #1c1c1c;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            color: #f0f0f0;
            position: relative;
        }
        
        .container {
            background-color: #333;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            width: 100%;
            text-align: center;
            position: relative;
        }
        
        .toggle-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 30px;
            background-color: #444;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 5px;
        }
        
        .toggle-switch div {
            width: 25px;
            height: 25px;
            background-color: #fff;
            border-radius: 3px;
            transition: transform 0.2s;
        }
        
        .toggle-switch.light div {
            transform: translateX(30px);
        }
        
        h1 {
            margin-bottom: 20px;
            color: #fff;
        }
        
        form {
            display: flex;
            flex-direction: column;
            text-align: left;
        }
        
        label {
            margin-top: 11px;
            color: #ccc;
            font-weight: bold;
            font-size: 14px;
        }
        
        input {
            padding: 12px;
            margin-top: 5px;
            border: 2px solid #666;
            border-radius: 8px;
            font-size: 18px;
            background-color: #222;
            color: #f0f0f0;
            transition: border-color 0.2s;
        }
        
        input:focus {
            border-color: #007BFF;
            outline: none;
        }
        
        .light-mode input {
            background-color: #f0f0f0;
            color: #333;
            border-color: #ccc;
        }
        
        .light-mode input:focus {
            border-color: #007BFF;
            outline: none;
        }
        
        button {
            padding: 12px;
            margin-top: 20px;
            background-color: #007BFF;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        #result {
            margin-top: 20px;
        }
        
        #lotSize {
            font-size: 1.2em;
            color: #007BFF;
            font-weight: bold;
        }
        
        .result-box {
            background-color: #222;
            padding: 5px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid #666;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .light-mode .result-box {
            background-color: #f0f0f0;
            color: #333;
            border-color: #ccc;
        }
        
        .footer {
            margin-top: 40px;
            font-size: 0.9em;
            color: #999;
            text-align: center;
            width: 100%;
        }
        
        .light-mode {
            background: linear-gradient(to right, #ffffff, #e0e0e0);
            color: #333;
        }
        
        .light-mode .container {
            background-color: #fff;
            color: #333;
        }
        
        .light-mode label {
            color: #333;
        }
        
        .light-mode button {
            background-color: #007BFF;
            color: #fff;
        }
        
        .light-mode .footer {
            color: #666;
        }
        
        .light-mode #lotSize {
            color: #007BFF;
        }
        
        .light-mode h1 {
            color: #333;
        }
        
        .alert-box {
            position: fixed;
            bottom: -100px;
            height: 50px;
            right: 20px;
            width: 300px;
            background-color: #ffeb3b;
            color: #856404;
            text-align: left;
            padding: 10px 15px;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: bottom 0.5s;
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: space-between;
        }
        
        .alert-box.show {
            display: flex;
            bottom: 20px;
        }
        
        .alert-box .message {
            display: flex;
            align-items: center;
        }
        
        .alert-box .icon {
            margin-right: 10px;
        }
        
        .alert-box .icon svg {
            width: 24px;
            height: 24px;
            fill: #eed202;
        }
        
        .alert-box .close-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #856404;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 19px;
        }
        
        .alert-box .close-btn svg {
            width: 18px;
            height: 18px;
            fill: black;
        }
    </style>
</head>

<body>
    <div class="toggle-switch" onclick="toggleMode()">
        <div></div>
    </div>
    <div class="container">
        <h1>XAUUSD Lot Size Calculator</h1>
        <form id="lotSizeForm">
            <label for="balance">Account Balance ($):</label>
            <input type="number" id="balance" value="5000" list="balanceOptions" required>
            <datalist id="balanceOptions"></datalist>

            <label for="risk">Risk Percentage (%):</label>
            <input type="number" id="risk" value="1" required>

            <label for="stopLoss">Stop Loss (pips):</label>
            <input type="number" id="stopLoss" required>

            <button type="button" onclick="calculateLotSize()">Calculate</button>
        </form>
        <div id="result" class="result-box">
            <h2 style="font-size: 1.2em;">Lot Size: <span id="lotSize"></span></h2>
        </div>
        <div class="footer">
            &copy; 2024 Chaiyamm Trade Insider
        </div>
    </div>

    <div id="alertBox" class="alert-box">
        <div class="message">
            <div class="icon">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M11.9998 8.99999V13M11.9998 17H12.0098M10.6151 3.89171L2.39019 18.0983C1.93398 18.8863 1.70588 19.2803 1.73959 19.6037C1.769 19.8857 1.91677 20.142 2.14613 20.3088C2.40908 20.5 2.86435 20.5 3.77487 20.5H20.2246C21.1352 20.5 21.5904 20.5 21.8534 20.3088C22.0827 20.142 22.2305 19.8857 22.2599 19.6037C22.2936 19.2803 22.0655 18.8863 21.6093 18.0983L13.3844 3.89171C12.9299 3.10654 12.7026 2.71396 12.4061 2.58211C12.1474 2.4671 11.8521 2.4671 11.5935 2.58211C11.2969 2.71396 11.0696 3.10655 10.6151 3.89171Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div>
                <strong>Warning:</strong> Please enter valid numbers for all fields.
            </div>
        </div>
        <button class="close-btn" onclick="hideAlert()">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
    </div>

    <script>
        const previousBalances = JSON.parse(localStorage.getItem('previousBalances')) || [];

        document.addEventListener('DOMContentLoaded', () => {
            const balanceOptions = document.getElementById('balanceOptions');
            previousBalances.forEach(balance => {
                const option = document.createElement('option');
                option.value = balance;
                balanceOptions.appendChild(option);
            });
        });

        function calculateLotSize() {
            // Get input values
            const balance = parseFloat(document.getElementById('balance').value);
            const risk = parseFloat(document.getElementById('risk').value);
            const stopLoss = parseFloat(document.getElementById('stopLoss').value);

            // Validate input values
            if (isNaN(balance) || isNaN(risk) || isNaN(stopLoss) || balance <= 0 || risk <= 0 || stopLoss <= 0) {
                showAlert();
                return;
            }

            // Save balance to localStorage
            if (!previousBalances.includes(balance)) {
                previousBalances.push(balance);
                localStorage.setItem('previousBalances', JSON.stringify(previousBalances));
            }

            // Calculate risk amount
            const riskAmount = (balance * risk) / 100;

            // Calculate lot size
            const lotSize = riskAmount / stopLoss / 10; // XAUUSD point value is typically 10

            // Display result
            document.getElementById('lotSize').innerText = lotSize.toFixed(2);
        }

        function toggleMode() {
            const body = document.body;
            const toggleSwitch = document.querySelector('.toggle-switch');
            body.classList.toggle('light-mode');
            toggleSwitch.classList.toggle('light');
        }

        function showAlert() {
            const alertBox = document.getElementById('alertBox');
            alertBox.style.display = 'flex';
            setTimeout(() => {
                alertBox.classList.add('show');
            }, 10);
        }

        function hideAlert() {
            const alertBox = document.getElementById('alertBox');
            alertBox.classList.remove('show');
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 500);
        }
    </script>
</body>

</html>